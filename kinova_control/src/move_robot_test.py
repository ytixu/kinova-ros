#! /usr/bin/env python
""" Test trajectories """

import rospy
from move_robot import moveJoint, moveFingers

joint_tests = [
  [1.0,2.9,1.3,4.2,1.4,0.0],
  [0.0,1.9,1.3,4.2,1.4,0.0],
  [0.0,2.9,2,4.2,1.4,0.0],
  [0.0,2.9,1.3,5.2,1.4,0.0],
  [0.0,2.9,1.3,4.2,0,0.0],
  [0.0,2.9,1.3,4.2,1.4,1.0]
]


positions = [
  [2.331199658097515, 3.7644775367356633, 1.5025293880440236, -2.6083915843651044, 7.700129752536169, 8.083529075708338],
  [3.4152468366653213, 3.2943379915951785, 0.6149818194530053, -2.446951291716719, 8.421387278975713, 7.970786814120922],
  [3.3660553218543585, 4.858735541238942, 0.927675280948005, -2.2955164952837617, 8.510542455420515, 9.193059510114892],
  [3.2311851210855846, 4.569246202321803, 1.2734754300601614, -2.9608441767222238, 8.622286031599149, 8.44322306938549],
  [3.0846931516358143, 4.9418655820335475, 0.9101402293825962, -2.0732871539093365, 8.3234628456935, 9.384614295737677],
  [2.29241098313662, 4.566084497475661, 1.282641764216105, -2.9633430207730456, 8.616144782125426, 8.434771261350015],
  [2.682820278930094, 4.6790078540172, 2.22907728398901, -2.7556934211023685, 7.813392928432803, 8.226599415789574],
  [2.6634298030332273, 4.061023187277076, 2.102828934091313, -2.4358717426336627, 7.415752617647546, 7.933924403576482],
  [1.9250496155230732, 3.626548695454933, 1.1718883513307616, -2.6425271842694134, 7.9397876190324, 8.096926906520308],
  [3.0735922972640366, 3.0635625662826897, 1.355879226825502, -2.2326054398011466, 7.6503707180969105, 7.461381621868309]
]



# rosrun kinova_demo joints_action_client.py -v radian -- 1.0 2.9 1.3 4.2 1.4 0.0

finger_tests = [
  [1.2,1.2, 1],
  [0,0,1],
  [1.2,1.2,1.2]
]

PI = 3.14159265359

if __name__ == '__main__':
  try:
    rospy.init_node('move_robot_using_trajectory_msg_test')
    prefix = 'j2n6s300'
    nbJoints = 6
    nbfingers = 3

    # go to home position first
    moveJoint ([0.0,2.9,1.0,4.2,1.5,1.3],prefix,nbJoints)
    moveFingers ([0,0,0],prefix,nbfingers)

    # TEST HERE

    print 'Test all joints.'
    for test in positions:
      test[0] = test[0] - PI
      print test
      raw_input("Press Enter to continue...")
      count = 0
      while (count < 5):
        count = count + 1
        moveJoint (test,prefix,nbJoints)

    # print 'Test fingers.'
    # for test in finger_tests:
    #   raw_input("Press Enter to continue...")
    #   moveFingers (test,prefix,nbfingers)

    print 'DONE!'

  except rospy.ROSInterruptException:
    print "program interrupted before completion"
